---
title: 'Self-Hosting Architecture'
description: 'Detailed architectural overview of Prisme.ai components and interactions.'
---

Deploying Prisme.ai in a self-hosted environment involves multiple integrated components working seamlessly together. This document provides a detailed overview of the architecture to help you effectively plan and implement your deployment.

## Architectural Components

Prisme.ai is composed of several critical microservices and infrastructure components:

### Core Services

- **API Gateway**: Central access point securing and routing API requests.
- **Workspace Service**: Manages user-defined workspaces, permissions, and metadata.
- **Event Service**: Handles event-driven interactions and analytics.
- **Runtime Service**: Executes and scales AI agents dynamically.
  **Console Service**: Render the studio with AI products.
- **Pages Service**: Renders end-user pages and can scale separately if needed.

### Extended Services

- **Functions Service**: Allows execution of user-defined JavaScript or Python scripts.
- **Crawler Service**: Indexes and manages external web document content.
- **Search Service**: Powers internal search capabilities (Redis Stack, Elasticsearch/OpenSearch).
- **Authentication Service**: Manages user authentication and supports OIDC and SAML.

### Databases

Prisme.ai leverages multiple specialized databases:

- **MongoDB**: Stores structured application data, users, roles, and permissions.
- **Redis**: Provides caching, real-time streaming, and message brokering.
- **Elasticsearch/OpenSearch**: Stores and indexes document content and analytics data.
- **Vector Store (Redis Stack)**: Manages vectorized data for AI Knowledge applications.

### File and Object Storage

- **Filesystem**: RWX-supported Kubernetes PVC for local file storage.
- **Object Storage**: Compatible with S3 and Azure Blob for scalable storage of uploads, models, and documents.

## Deployment Patterns

Prisme.ai architecture supports several deployment configurations:

### Kubernetes Deployment

Recommended for scalable and resilient deployments:

- **Helm Charts**: Simplify Kubernetes deployments with pre-configured Helm charts.
- **Operators**: Advanced Kubernetes management via custom operators for automated maintenance and scaling.

### Docker Deployment

Ideal for smaller, development, or test environments:

- **Docker Compose**: Manage local or small-scale deployments using Docker Compose.

## Network and Security

Security and network architecture considerations:

- **Ingress Controller**: Required for routing traffic to services.
- **Firewall and Network Policies**: Recommended to secure inter-service communications.
- **TLS/SSL Certificates**: Essential for secure external communication and internal service interaction.

## High Availability and Scalability

Ensure service continuity and scalability:

- **Replica Sets**: Deploy multiple instances of microservices for fault tolerance.
- **Horizontal Pod Autoscaling (HPA)**: Automatically scale services based on workload.
- **Persistent Storage**: Use distributed file systems or cloud storage for high availability.

## Logging and Monitoring

Critical for operational oversight:

- **Centralized Logging**: Use logging systems like ELK or Prometheus/Grafana.
- **Metrics and Alerting**: Monitor system health, set alerts for critical thresholds.

## Architecture Diagrams

Detailed visual diagrams illustrating the service interactions and data flows:

<Frame>
  <img src="/images/prisme-architecture-overview.png" alt="Prisme.ai Architecture Overview" />
</Frame>

## Next Steps

<CardGroup cols={2}>
  <Card title="Cloud Providers" icon="cloud" href="/self-hosting/cloud/aws">
    Explore deployment guides for AWS, Azure, GCP, and OpenShift.
  </Card>
  <Card title="Docker Deployment" icon="docker" href="/self-hosting/docker/setup">
    Follow instructions for Docker-based deployments.
  </Card>
  <Card title="Kubernetes Deployment" icon="kubernetes" href="/self-hosting/kubernetes/helm">
    Detailed guide for Kubernetes deployment and management.
  </Card>
  <Card title="Operations" icon="tools" href="/self-hosting/operations/updates">
    Manage updates, backups, scaling, and troubleshooting.
  </Card>
</CardGroup>
