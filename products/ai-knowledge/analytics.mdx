---
title: 'Analytics'
description: 'Measuring and optimizing your AI Knowledge agents performance and resource usage'
---

AI Knowledge Analytics provides comprehensive visibility into your AI agents' performance, usage patterns, and resource consumption. These powerful dashboards help you optimize costs, identify improvement opportunities, and ensure your AI solutions deliver maximum value to your organization.

## Key Analytics Features

<CardGroup cols={2}>
  <Card title="Usage Metrics" icon="chart-line">
    Track conversations, users, and document generation across all agents
  </Card>
  <Card title="Token Consumption" icon="coins">
    Monitor input and output token usage with detailed breakdowns
  </Card>
  <Card title="Cost Analysis" icon="money-bill-trend-up">
    Track expenditure with detailed cost attribution by agent and model
  </Card>
  <Card title="Performance Trends" icon="chart-mixed">
    Identify usage patterns and performance changes over time
  </Card>
  <Card title="Agent Comparison" icon="scale-balanced">
    Compare effectiveness and efficiency across your AI agent portfolio
  </Card>
  <Card title="Custom Date Ranges" icon="calendar">
    Analyze data across flexible time periods from 1 day to 12 months
  </Card>
</CardGroup>

## Analytics Dashboards

AI Knowledge Analytics offers multiple dashboards to help you understand different aspects of your AI deployment.

<Tabs>
  <Tab title="Usage Analytics">
    The Usage Analytics dashboard provides detailed insights into how your agents are being utilized:
    
    
    ### Key Metrics
    - **Generated Responses**: Total number of AI responses generated across all agents
    - **End Users**: Number of unique users interacting with your agents
    - **Created Documents**: Total documents generated by your agents
    - **Total Tokens Count**: Aggregate token usage across all conversations
    - **Input Tokens**: Tokens consumed by user queries and context
    - **Output Tokens**: Tokens generated in AI responses
    
    This dashboard helps you understand usage patterns and user engagement, allowing you to identify your most valuable agents and usage trends over time.
  </Tab>
  
  <Tab title="Cost Dashboard">
    The Cost Dashboard provides visibility into your AI expenditure:
    
    ### Key Metrics
    - **Global Cost**: Total expenditure across all agents
    - **Cost Trends**: Percentage change compared to previous periods
    - **Agent Distribution**: Cost breakdown by individual agent
    - **Model Distribution**: Cost breakdown by AI model
    - **Provider Distribution**: Cost breakdown by model provider
    
    This dashboard helps you track expenses, identify cost drivers, and implement optimization strategies to maximize ROI while maintaining performance.
  </Tab>
  
  <Tab title="Agent Analytics">
    The Agent Analytics dashboard provides detailed metrics for individual agents:
        
    ### Key Metrics
    - **Token Usage**: Input and output tokens per agent
    - **Message Count**: Number of interactions per agent
    - **Document Creation**: Documents generated by each agent
    - **User Engagement**: Number of unique users per agent
    - **Performance Metrics**: Response time and quality indicators
    
    This dashboard helps you understand how specific agents are performing, allowing you to identify high-performing agents and those that may need improvement.
  </Tab>
  
  <Tab title="Performance Optimization">
    The Performance Optimization dashboard identifies opportunities to improve efficiency:
    
    
    ### Key Insights
    - **Token Efficiency**: Identify agents with high token consumption
    - **Response Quality**: Track metrics related to response effectiveness
    - **Usage Patterns**: Understand peak usage times and resource needs
    - **Optimization Recommendations**: AI-generated suggestions for improvement
    
    This dashboard helps you fine-tune your agents for optimal performance and cost-efficiency.
  </Tab>
</Tabs>

## Using Analytics Effectively

<Steps>
  <Step title="Access Analytics">
    Navigate to the Analytics section from your AI Knowledge dashboard.
    
  </Step>
  
  <Step title="Select time period">
    Choose your desired timeframe for analysis using the date selectors.

    Options include standard periods (1 day, 7 days, 30 days, 12 months) or custom date ranges.
  </Step>
  
  <Step title="Review key metrics">
    Examine the main performance indicators for your agents.
    
    Pay special attention to significant changes or trends in usage and costs.
  </Step>
  
  <Step title="Drill down into specific agents">
    Click on individual agents to see detailed performance metrics.

    Compare agents to identify best practices and improvement opportunities.
  </Step>
</Steps>

## Best Practices for Analytics

<CardGroup cols={2}>
  <Card title="Regular Reviews" icon="calendar-check">
    Schedule weekly or monthly analytics reviews to track performance trends
  </Card>
  <Card title="Benchmark Agents" icon="flag-checkered">
    Compare similar agents to establish performance benchmarks
  </Card>
  <Card title="Token Optimization" icon="gauge">
    Identify and optimize high token consumption scenarios
  </Card>
  <Card title="User Feedback Correlation" icon="comments">
    Connect analytics data with user feedback for deeper insights
  </Card>
  <Card title="Cost Allocation" icon="money-bill-transfer">
    Use analytics to allocate AI costs to appropriate departments
  </Card>
  <Card title="Continuous Improvement" icon="arrows-spin">
    Implement regular optimizations based on analytics insights
  </Card>
</CardGroup>

## Token Optimization Strategies

Based on analytics insights, consider these strategies to optimize token usage and costs:

<Steps>
  <Step title="Knowledge base refinement">
    Streamline knowledge bases to include only the most relevant information.
  
  </Step>
  
  <Step title="Prompt engineering">
    Refine system prompts and instructions to be more efficient.

  </Step>
  
  <Step title="Model selection">
    Choose the most cost-effective model for each use case.
  </Step>
  
  <Step title="Context window management">
    Optimize how much context is included in each interaction.
  </Step>
</Steps>

## Custom usage analytics  

Both LLM and embeddings usage are tracked by `usage` events, persisted with [an `aggPayload` custom mapping](/products/ai-builder/advanced-topics#implementing-event-mapping) to enable numeric aggregations in Elasticsearch/Opensearch requests.   

**Example `usage` :**  
```json
{
  "type": "usage",
  "aggPayload": {
    "channel": "api",
    "api": "completions",
    "tool": "genericQuery",
    "usage": {
      "firstTokenDuration": 804,
      "completion_tokens": 92,
      "prompt_tokens": 2515,
      "total_tokens": 2607,
      "duration": 3953,
      "cost": 0.00720749999999999951
    },
    "projectId": "project id",
    "model": "gpt-4o",
    "provider": "openai",
    "messageId": "message id",
    "userId": "user id",
    "finishReasons": [
      "stop"
    ]    
  }
}
```

**Example ES/OS aggregations :**  
```json Search request body [expandable]
{
  "size": 0, 
  "query": {
    "bool": {
     "must": {
      "range": {
       "@timestamp": {
        "gte": "2025-04-09T14:27:41.684Z",
        "lt": "2025-04-16T14:27:41.684Z"
       }
      }
     },
     "filter": [
      {
       "terms": {
        "type": [
         "usage"
        ]
       }
      },
      {
       "bool": {
        "should": [
         {
          "bool": {
           "must_not": [
            {
             "term": {
              "payload.api": "embeddings"
             }
            }
           ]
          }
         }
        ]
       }
      },
      {
       "terms": {
        "payload.projectId": [
         "<project id>"
        ]
       }
      }
     ]
    }
   },
   "aggs": {
    "totalUsers": {
     "cardinality": {
      "field": "aggPayload.userId"
     }
    },
    "totalMessages": {
     "filter": {
      "term": {
       "type": "usage"
      }
     }
    },
    "tokens": {
     "sum": {
      "field": "aggPayload.usage.total_tokens"
     }
    },
    "completionTokens": {
     "sum": {
      "field": "aggPayload.usage.completion_tokens"
     }
    },
    "promptTokens": {
     "sum": {
      "field": "aggPayload.usage.prompt_tokens"
     }
    }
   }
}
```




## Next Steps

Explore more detailed guides for AI Knowledge Analytics:

<CardGroup cols={2}>
  <Card
    title="Analytics API"
    icon="code"
    href="/api-reference/introduction"
  >
    Accessing analytics data programmatically
  </Card>
</CardGroup>
